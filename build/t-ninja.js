/**
 * This script implements the falling letters game in JavaScript and RightJS
 *
 * You can play with the thing over here
 *   http://stcamp.net/games/t-ninja
 *
 * Copyright (C) 2009 Nikolay V. Nemshilov aka St.
 */
eval((function(s,d){for(var i=d.length-1;i>-1;i--)if(d[i])s=s.replace(new RegExp(i,'g'),d[i]);return s})("46 39=124 156({106:8,107:2,82:2,73:8,81:18(e){17.27=$E('24',{'51':'tn-63'}).38To(e);17.28=124 39.Progress();17.69=124 39.Field();17.19=124 39.133();17.26=124 39.171();17.27.38([17.26.27,17.28.27,17.69.27,17.19.27]);17.19.164(17.28.62.48(17.28)).onKeyPress(17.69.64Pressed.48(17.69));17.26.164(17.19.62.48(17.19)).onStartClick(17.158.48(17)).onS151Click(17.104.48(17));17.69.onHit(17.131.48(17)).onMiss(17.121.48(17));17.26.62(116.get('tn-63')||'en').105((116.get('tn-speed')||'2').109());17.28.103((116.get('tn-59')||'2').109());17.35={};17.72=0;17.101=0},158:18(){17.104ped=false;17.169()},104:18(){17.104ped=true;17.69.clear()},131:18(c){if(17.35[c])17.35[c]--;if(17.35[c]<1)delete(17.35[c]);17.72++;17.101=0;if(17.72>17.106){17.26.advance();17.72=0}17.26.131().90(17.35);17.115()},121:18(c){if(!17.35[c])17.35[c]=0;17.35[c]++;17.101++;17.72=0;if(17.101>17.107)17.26.slow201();17.26.121().90(17.35);17.115()},169:18(){if(17.104ped)25 false;46 s=1000+7000*(10-17.26.138())/10;46 a=17.28.200().concat(17.98()).random();17.69.drop(a,s,17.19.147(a));17.timer=17.169.48(17).delay(s/2)},98:18(){25 Object.55(17.35)},115:18(){46 m=17.98();if(m.119<17.82)17.28.59Up();195 if(m.119>17.73)17.28.59201()}});39.133=124 156(132,{extend:{194:$w('63_change 64_press'),122:{EN:['`~1!2@3#4$5%6^7&8*9(0)-_=+','qQwWeErRtTyYuUiIoOpP[{]}\\\\|','aAsSdDfFgGhHjJkKlL;:\\\'\"','zZxXcCvVbBnNmM,<.>/?'],RU:['][1!2\"3№4;5%6:7?8*9(0)-_=+','йЙцЦуУкКеЕнНгГшШщЩзЗхХъЪ\\\\/','фФыЫвВаАпПрРоОлЛдДжЖэЭ','яЯчЧсСмМиИтТьЬбБюЮ.,'],DVORAK:['`~1!2@3#4$5%6^7&8*9(0)[{]}','\\\'\",<.>pPyYfFgGcCrRlL/?=+\\\\|','aAoOeEuUiIdDhHtTnNsS-_',';:qQjJkKxXbBmMwWvVzZ']},FINGERS:['11234444321111','01234444321111','0123444432111','112344443211']},81:18(l,o){17.191(o);17.27=$E('24',{'51':'tn-19'});17.137().150()},62:18(n){46 d=null,n=n||'EN';(17.63=17.142.122[n.179()]).146(18(r,b){r.140('').146(18(s,a){if(a % 2){46 k=17.55[d.79()]=17.55[s.79()]=17.rows[b][(a-1)/2];k.37='<29>'+d+'</29><29 51=\"up\">'+s+'</29>'}195 d=s},17)},17);25 17.126('63_change',17.63)},180Up:18(e){if(!e||e.64202==16)17.27.102('149');25 17},180201:18(e){if(!e||e.64202==16)17.27.192156('149');25 17},147:18(s){46 k=17.55[s.79()],o=0;if(k)o=k.85().x-17.27.85().x;25 o},165:18(e){46 k=17.55[e.char202]||17.55[e.64202];if(k){if(!e.altKey&&!e.ctrlKey&&!e.metaKey){e.104();k.157({86:160});17.126('64_press',e.char202||e.64202)}}},150:18(){document.on({64press:17.165.48(17),64up:17.180201.48(17),64down:17.180Up.48(17)});25 17},137:18(){17.55=[];17.rows=[];17.142.122.EN.146(18(r,b){46 c=17.137Row(b,r);if(b==0)c.38(17.53('&larr;','backspace',8));if(b==1)c.38(17.53('&rarr;','tab'),'151');if(b==2)c.38({151:17.53('','168'),145:17.53('&crarr;','enter',13)});if(b==3)c.38({151:17.53('Shift','l-180',16),145:17.53('Shift','r-180',16)});17.27.38(c);17.142.FINGERS[b].140('').146(18(n,a){c.childNodes[a].102('tn-19-64-'+n+'-144')})},17);17.27.38(17.137Row(4,'').38(17.53(' ','space',32)));25 17},137Row:18(n,c){46 k=[];(c.119/2).times(18(){k.154(17.53(''))},17);17.rows.154(k);25 $E('24').102('tn-19-row-'+(n+1)).38(k)},53:18(l,b,a){46 k=$E('29',{'51':b}).102('tn-19-64').143(l);if(a&&a!=16)17.55[a]=k;25 k}});39.Field=124 156(132,{194:$w('hit miss'),81:18(o){17.191(o);17.27=$E('24',{'51':'tn-69'});17.83=[]},drop:18(s,d,o){46 k=$E('24',{'51':'tn-64',127:s,style:'125: '+o+'px'}).38To(17.27);k.162=124 Fx.Morph(k,{86:d,fps:40,172:18(){46 e=17.139(s.79());if(e){e.157('#F66',{172:e.192.48(e)});17.126('miss',s)}}.48(17)}).158({151:(17.27.173-k.173-2)+'px'});17.83.154({code:s.79(),27:k})},64Pressed:18(k){46 e=17.139(k);if(e){e.162.cancel();e.157('#AFA',{86:160,172:e.192.48(e)});17.126('hit',e.37)}},clear:18(){17.83.146(18(i){i.27.162.cancel();i.27.192()});17.83=[];25 17},139:18(k){46 u=null,s=[];for(46 i=0;i<17.83.119;i++){if(!u&&17.83[i].code==k)u=17.83[i];195 s.154(17.83[i])}17.83=s;25 u?u.27:null}});39.Progress=124 156(132,{SEQUENCE:\"fjdksla; gtyrueiwoqpbnvmc,x.z/'FJDKSLA:GHTYRUEIWOQPBNVMC<X>Z?\\\"675849302-1=^&%*$(#)@_!+[{}]`~\\\\|\",81:18(){17.27=$E('24',{'51':'tn-28'});17.137()},62:18(l){17.63=[];l.join('').140('').146(18(s,p){p=17.135.indexOf(17.en203[p]);if(p>-1)17.55[p].37=17.63[p]=s},17);25 17},103:18(n){17.59=isString(n)?17.135.indexOf(n):n-1;17.55.146(18(k,a){k[a>17.59?'102':'192156']('tn-28-64-disabled')},17);17.scrollTo(17.59);116.set('tn-59',''+(((17.59>1)?17.59:1)+1),{86:99999});25 17},59Up:18(){if(17.59<17.63.119)17.103(17.59+2);25 17},59201:18(){if(17.59>1)17.103(17.59-1);25 17},200:18(){25 17.63.flatten().slice(0,17.59+1)},scrollTo:18(i){46 b=17.54Box.184;46 k=17.55[0].184+2;46 m=(k*17.55.119)-b;46 o=b/2-i*k;if(o>0)o=0;195 if(o<-m)o=-m;17.54.morph({125:o+'px'})},137:18(){17.en203=39.133.122.EN.join('').140('');17.135=17.SEQUENCE.140('');17.55=[];17.54Box=$E('24',{'51':'tn-28-54'}).38To(17.27);17.54=$E('24').38To(17.54Box);17.54.38(17.135.map(18(s){46 k=$E('29').176(17.103.48(17,s));17.55.154(k);25 k},17))}});39.171=124 156(132,{194:$w('63_change 174 104_click 158_click 118'),136:15,81:18(o){17.191(o);17.27=$E('24',{'51':'tn-26'});17.137().150()},138:18(){25 17.94.71.109()},advance:18(){25 17.105(17.138()+1)},slow201:18(){25 17.105(17.138()-1)},90:18(m){46 c=[];for(46 k in m)c.154({symbol:k,count:m[k]});c=c.sortBy('count').reverse().slice(0,17.136);17.148.143(c.map(18(i){25 $E('24',{'51':'tn-64',127:i.symbol})}))},131:18(){17.163.37=''+(17.163.37.109()+1);25 17.87()},121:18(){17.77.37=''+(17.77.37.109()+1);25 17.87()},62:18(n){if(isString(n))17.63s.71=(n||'en').179();116.set('tn-63',17.63s.71,{86:99999});25 17.126('63_change',17.63s.71)},105:18(v){if('198'.includes(''+v))17.94.71=''+v;116.set('tn-speed',17.94.71,{86:99999});25 17.126('174',17.94.71)},87:18(){46 h=17.163.37.109();46 m=17.77.37.109();46 a=h/(h+m)*100;17.167.37=(a||0).round()+'%';25 17},150:18(){17.63s.onChange(17.62.48(17));17.94.onChange(17.105.48(17));17.97.176(18(){17.97.toggle156('tn-104').set('71',17.97.has156('tn-104')?'S151':'Start').blur();17.126(17.97.has156('tn-104')?'158_click':'104_click')}.48(17));17.118.176(18(e){e.104();17.163.37=17.77.37='0';17.87().126('118')}.48(17))},137:18(){17.63s=$E('193').38(17.57s(Object.55(39.133.122)));17.94=$E('193').38(17.57s('198'.140('')));17.97=$E('181',{type:'button',71:'Start','51':'tn-158'});$E('61').143('<92>171</92>').38To(17.27).38([17.57('203',17.63s),17.57('Speed',17.94),17.97]);17.163=$E('29',{127:'0'});17.77=$E('29',{127:'0'});17.167=$E('29',{127:'0'});17.118=$E('a',{'51':'tn-118',127:'Reset',href:''});$E('61').143('<92>Statistic</92>').38To(17.27).38([17.57('Hits',17.163),17.57('Missed',17.77),17.57('Accuracy',17.167),17.118]);17.148=$E('24',{'51':'tn-most-77'});$E('61').143('<92>Most Missed</92>').38To(17.27).38(17.148);25 17},57:18(l,e){25 $E('24',{'51':'tn-26-190'}).38([$E('label',{127:l}),e])},57s:18(l){25 l.map(18(n){25 $E('190',{71:n,127:n})})}});document.write(\"<style type=\\\"161/css\\\">24.tn-63{91-family:Arial}24.tn-28{36:41.65;47-125:.1108}24.tn-28 24.tn-28-54{overflow:hidden;50:2.96;85:relative}24.tn-28 24.tn-28-54 24{50:2.96;36:600em;85:absolute}24.tn-28 24.tn-28-54 29{76:block;159:125;36:96;50:96;line-50:96;161-177:166;31:0.1em 117 #CCC;33:#FDD;-182-31-52:.65;-113-31-52:.65;188:pointer;47-153:.14130}24.tn-28 24.tn-28-54 29.tn-28-64-disabled{33:#EEE;134:#888;31-134:#DDD}24.tn-26{159:153;36:1130}24.tn-26 61{31:0;31-151:1px 117 #DDD;47-145:.108}24.tn-26 61 92{91-size:120%;91-114:155;134:#444}24.tn-26 61 24.tn-26-190{47:.65}24.tn-26 61 label{91-114:155;76:189-block;*76:189;*zoom:1;36:7.108}24.tn-26 61 193{36:108}24.tn-26 181.tn-158,24.tn-26 181.tn-104{31:1px 117 #DDD;33:#EFE;36:100%;50:96;91-size:1em;91-114:155;134:#444;188:pointer;47-151:1em;-182-31-52:.65;-113-31-52:.65}24.tn-26 181.tn-104{33:#FEE}24.tn-26 a.tn-118{159:153;161-decoration:none;47-145:-0.108}24.tn-26 24.tn-most-77 24.tn-64{159:125;36:96;50:96;line-50:96;161-177:166;31:1px 117 #DDD;33:#EEE;-182-31-52:.65;-113-31-52:.65;47-153:.65;47-145:.65;91-114:155}24.tn-69{31:1px 117 #CCC;33:#FFE;36:41.65;50:196;47-125:.1108;-182-31-52:.130;-113-31-52:.130;47-151:.130;85:relative}24.tn-69 24.tn-64{36:96;50:96;line-50:96;161-177:166;33:#EEE;31:1px 117 #BBB;-182-31-52:.130;-113-31-52:.130;85:absolute;91-114:155}24.tn-19{36:496;50:14.108;47-151:.130}24.tn-19 24 29.tn-19-64{188:default;76:block;159:125;50:2.108;line-50:2.108;36:2.108;161-177:166;31:.1em 117 #CCC;47:.1em;33:#EEE;-182-31-52:.130;-113-31-52:.130}24.tn-19 24 29.backspace{36:4.65}24.tn-19 24 29.tab{36:3.108;134:#888}24.tn-19 24 29.tab:after{178:'|';91-size:80%;91-114:155}24.tn-19 24 29.enter{36:5.65}24.tn-19 24 29.enter:before{178:'Enter';47-153:0.108}24.tn-19 24 29.168{36:4.65;134:#888}24.tn-19 24 29.168:after{178:'CLock'}24.tn-19 24 29.r-180{36:7em}24.tn-19 24 29.l-180{36:5.130}24.tn-19 24 29.space{36:22.65}24.tn-19 24.tn-19-row-2 29.tn-19-64:last-child{36:3.65}24.tn-19 24.tn-19-row-5{47-125:8.108}24.tn-19 29.tn-19-64 29.up{76:none}24.149 29.tn-19-64 29{76:none}24.149 29.tn-19-64 29.up{76:189}24.tn-19 24 29.tn-19-64-1-144{33:#FEF}24.tn-19 24 29.tn-19-64-2-144{33:#EFE}24.tn-19 24 29.tn-19-64-3-144{33:#EEF}24.tn-19 24 29.tn-19-64-4-144{33:#FEE}</style>\");",",,,,,,,,,,,,,,,,,this,function,keyboard,,,,,div,return,settings,element,progress,span,,border,,background,,missedKeys,width,innerHTML,insert,TypeNinja,,,,,,,var,margin,bind,,height,class,radius,buildKey,container,keys,,buildOption,,level,,fieldset,setLayout,layout,key,3em,,,insertTo,field,,value,hitsCounter,MIN_MISSES_BEFORE_LEVEL_DOWN,layout_change,,display,missed,,charCodeAt,,initialize,MAX_MISSES_BEFORE_LEVEL_UP,stack,,position,duration,calcAccuracy,,,updateMostMissed,font,legend,,speeds,layouts,2em,trigger,mostMissedChars,,,missCounter,addClass,setLevel,stop,setSpeed,HITS_BEFORE_ADVANCING,MISS_BEFORE_SLOW_DOWN,5em,toInt,,,,webkit,weight,checkProgress,Cookie,solid,reset,length,,countMiss,LAYOUTS,,new,left,fire,html,buildOptions,containerBox,4em,countHit,Observer,Keyboard,color,sequence,MOST_MISSED_COUNT,build,getSpeed,pullElement,split,,constructor,update,finger,bottom,each,getKeyLeftOffset,mostMissed,shifted,connect,top,keyCode,right,push,bold,Class,highlight,start,float,,text,droppinFx,hits,onLayoutChange,hightlightKey,center,accuracy,capslock,dropNext,buildRow,Settings,onFinish,offsetHeight,speed_change,removeClass,onClick,align,content,toUpperCase,shift,input,moz,start_click,offsetWidth,stopped,keyPressed,stop_click,cursor,inline,option,$super,remove,select,EVENTS,else,,shiftDown,123456789,key_press,getActive,Down,Code,Layout".split(",")));